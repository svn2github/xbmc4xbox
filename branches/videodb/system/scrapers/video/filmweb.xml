<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<scraper name="filmweb.pl" content="movies" thumb="filmweb.jpg">
	<NfoUrl dest="3">
		<RegExp input="$$1" output="http://www.filmweb.pl/,Film,id=\1"  dest="3">
			<expression noclean="1">filmweb.pl/,Film,id=([0-9]*)</expression>
		</RegExp>
	</NfoUrl>
	<CreateSearchUrl dest="3">
		<RegExp input="$$1" output="http://www.filmweb.pl/szukaj/film?sort=COUNT&amp;q=\1" dest="3">
			<expression noclean="1"></expression>
		</RegExp>
	</CreateSearchUrl>
	<GetSearchResults dest="8">
		<RegExp input="$$5" output="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;?&gt;&lt;results&gt;\1&lt;/results&gt;" dest="8">
			<RegExp input="$$1" output="\1" dest="7">
				<expression>id=([0-9]*)&quot;&gt;pełna obsada</expression>
			</RegExp>
			<RegExp input="$$7" output="&lt;entity&gt;&lt;title&gt;(\2) \1&lt;/title&gt;&lt;url&gt;http://www.filmweb.pl/Film,id=$$7&lt;/url&gt;&lt;url&gt;http://www.filmweb.pl/FilmRoles,id=$$7&lt;/url&gt;&lt;url&gt;http://www.filmweb.pl/FilmDescriptions,id=$$7&lt;/url&gt;&lt;/entity&gt;" dest="5">
				<expression noclean="1">title&gt;(.[^&lt;]*)\(([0-9]*)</expression>
			</RegExp>
			<RegExp input="$$1" output="\3\6#\2\5#\1\4#" dest="4">
				<expression repeat="yes">src=&quot;http://gfx.filmweb.pl/po/[^/]*/[^/]*/([0-9]*)/.[^#]*searchResult[^&gt;]*&gt;(.[^(]+)\(([0-9]+)|searchResultTitle&quot; href=[^=]*=([0-9]*)&quot;&gt;(.[^(]*)\(([0-9]*)</expression>
			</RegExp>
			<RegExp input="$$4" output="\1" dest="7">
				<expression>([^&lt;]+)</expression>
			</RegExp>
			<RegExp input="$$4" output="\1" dest="7+">
				<expression repeat="yes">[^&gt;]&gt;([^&lt;]+)</expression>
			</RegExp>
			<RegExp input="$$7" output="&lt;entity&gt;&lt;title&gt;(\1) \2&lt;/title&gt;&lt;url&gt;http://www.filmweb.pl/Film,id=\3&lt;/url&gt;&lt;url&gt;http://www.filmweb.pl/FilmRoles,id=\3&lt;/url&gt;&lt;url&gt;http://www.filmweb.pl/FilmDescriptions,id=\3&lt;/url&gt;&lt;/entity&gt;" dest="5+">
				<expression repeat="yes">([0-9]+)#([^#]+)#([0-9]+)</expression>
			</RegExp>
			<expression noclean="1"></expression>
		</RegExp>
	</GetSearchResults>
	<GetDetails dest="3">
		<RegExp input="$$5" output="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;?&gt;&lt;details&gt;\1&lt;/details&gt;" dest="3">
			<RegExp input="$$1" output="&lt;title&gt;\1&lt;/title&gt;" dest="5">
				<expression trim="1">title&gt;(.[^&lt;]*)\(</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;originaltitle&gt;\1&lt;/originaltitle&gt;" dest="5+">
				<expression>class=&quot;otherTitle&quot;&gt;(.[^&lt;]*)</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;year&gt;\1&lt;/year&gt;" dest="5+">
				<expression>title&gt;.[^&lt;]*\(([0-9]*)</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;votes&gt;\1&lt;/votes&gt;" dest="5+">
				<expression>osów: &lt;b&gt;([0-9]*)</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;rating&gt;\1.\2&lt;/rating&gt;" dest="5+">
				<expression>rating&quot;&gt;([0-9]*),([0-9]*)</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;top250&gt;\1&lt;/top250&gt;" dest="5+">
				<expression>wiat: ([0-9]*)</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;mpaa&gt;dozwolony od lat: \1&lt;/mpaa&gt;" dest="5+">
				<expression>od lat: ([0-9]*)</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;tagline&gt;\1&lt;/tagline&gt;" dest="5+">
				<expression>recenzje&quot;[^ ]+&gt;([^&lt;]+)&lt;/b&gt;</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;runtime&gt;\1 min&lt;/runtime&gt;" dest="5+">
				<expression>czas trwania: ([0-9]*)</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;thumb&gt;http://gfx.filmweb.pl/po\1&lt;/thumb&gt;" dest="5+">
				<expression noclean="1">href=&quot;http://gfx.filmweb.pl/po(.[^&quot;]*)</expression>
			</RegExp>
			<RegExp input="$$1" output="&lt;outline&gt;\1&lt;/outline&gt;" dest="5+">
				<expression trim="1">o filmie&quot;[^ ]+([A-Z][^\n]+)</expression>
			</RegExp>
			<RegExp input="$$1" output="\1" dest="6">
				<expression noclean="1">gatunek:([^#]*)</expression>
			</RegExp>
			<RegExp input="$$7" output="&lt;genre&gt;\1&lt;/genre&gt;" dest="5+">
				<RegExp input="$$6" output=" / \1" dest="7">
					<expression repeat="yes">&lt;a href[^&gt;]*&gt;([^&lt;]*)&lt;/a&gt;</expression>
				</RegExp>
				<expression> / (.*)</expression>
			</RegExp>
			<RegExp input="$$2" output="\1\2" dest="6">
				<expression noclean="1,2">(rolesLabel&quot;&gt;re[^~]*)scenar|(rolesLabel&quot;&gt;re[^~]*)aktorzy</expression>
			</RegExp>
			<RegExp input="$$7" output="&lt;director&gt;\1&lt;/director&gt;" dest="5+">
				<RegExp input="$$6" output=" / \1" dest="7">
					<expression repeat="yes">href[^&gt;]*&gt;([^&lt;]*)&lt;/a&gt;</expression>
				</RegExp>
				<expression> / (.*)</expression>
			</RegExp>
			<RegExp input="$$2" output="\1\2" dest="6">
				<expression noclean="1,2">(rolesLabel&quot;&gt;scenar[^~]*)Forum|(rolesLabel&quot;&gt;aktorzy[^~]*)Forum</expression>
			</RegExp>
			<RegExp input="$$7" output="&lt;credits&gt;\1&lt;/credits&gt;" dest="5+">
				<RegExp input="$$6" output=" / \1" dest="7">
					<expression repeat="yes">filmActor&quot; href[^&gt;]*&gt;([^&lt;]*)&lt;/a&gt;[^&gt;]*[^&lt;]*&lt;br/&gt;</expression>
				</RegExp>
				<expression> / (.*)</expression>
			</RegExp>
			<RegExp input="$$2" output="&lt;actor&gt;&lt;name&gt;\1\3&lt;/name&gt;&lt;role&gt;\2\4&lt;/role&gt;&lt;/actor&gt;" dest="5+">
				<expression repeat="yes" noclean="1,3">href[^&gt;]*&gt;([^&lt;]*)[^:]*[^&quot;]*&quot;filmRole&quot;&gt;\n[^&gt;]*&gt;([^&lt;]*)&lt;/a&gt;|href[^&gt;]*&gt;([^&lt;]*)[^:]*[^&quot;]*&quot;filmRole&quot;&gt;\n[^ ]+([A-Z][^\n]+)</expression>
			</RegExp>
			<RegExp input="$$8" output="&lt;plot&gt;\1&lt;/plot&gt;" dest="5+">
				<RegExp input="$$3" output="\1" dest="9">
					<expression>alt=&quot;opisy&quot;.[^\[]*justify&quot;&gt;(.[^=]*)&lt;/div&gt;&lt;/li&gt;</expression>
				</RegExp>
				<RegExp input="$$9" output="\1" dest="8">
					<expression>([^&lt;]+)</expression>
				</RegExp>
				<RegExp input="$$9" output=" \1" dest="8+">
					<expression repeat="yes">&lt;br/&gt;([^&lt;]+)</expression>
				</RegExp>        
				<expression></expression>
			</RegExp>
			<expression noclean="1"></expression>
		</RegExp>
	</GetDetails>
</scraper>