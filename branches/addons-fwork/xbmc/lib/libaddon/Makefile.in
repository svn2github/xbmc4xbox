INCLUDES=-I. -I../../addons/include -I../librefmem
CFLAGS=-fPIC
SYSDIR=../../../system
SO=libaddon.so
SLIB=$(SYSDIR)/$(SO)

SLIBS=$(SYSDIR)/librefmem.so
SRCS=setting.c settings.c debug.c

$(SLIB): $(SLIBS)
	$(CC) $(CFLAGS) $(INCLUDES) $(SRCS) -shared -o $(SLIB) -Wl,-L$(SYSDIR) -lrefmem 
	
$(SLIBS):
	$(MAKE) -C ../librefmem

-include ../../../Makefile.include
