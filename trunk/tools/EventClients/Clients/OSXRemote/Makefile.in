#convenience makefile to allow headless osx build

DEBUG_FLAGS=@DEBUG_FLAGS@

#check for debug build
ifneq (,$(findstring _DEBUG, $(DEBUG_FLAGS)))
  CONFIGURATION=Debug
else
  CONFIGURATION=Release
endif

all: 
ifeq ($(findstring x86-osx,$(ARCH)), x86-osx)
	xcodebuild -sdk macosx10.4 -configuration $(CONFIGURATION)
endif

clean:
ifeq ($(findstring x86-osx,$(ARCH)), x86-osx)
	xcodebuild clean -configuration $(CONFIGURATION)
endif

.PHONY: all clean
